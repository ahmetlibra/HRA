<template>
  <div>
    <h1>ðŸ“‹ KullanÄ±cÄ± Listesi</h1>
    <p>Toplam KullanÄ±cÄ±: {{ toplamKullanici }}</p>
    <button @click="fetchKullanicilar">KullanÄ±cÄ±larÄ± YÃ¼kle</button>
    <ul>
      <li v-for="kullanici in kullanicilar" :key="kullanici.id">
        {{ kullanici.name }} ({{ kullanici.email }})
      </li>
    </ul>
  </div>
</template>

<script>
import { useKullaniciStore } from "../stores/kullaniciStore";
import { storeToRefs } from "pinia";

export default {
  setup() {
    const store = useKullaniciStore();
    const { kullanicilar, toplamKullaniciSayisi } = storeToRefs(store);
    const { fetchKullanicilar } = store;

    return { kullanicilar, toplamKullanici: toplamKullaniciSayisi, fetchKullanicilar };
  }
};
</script>
